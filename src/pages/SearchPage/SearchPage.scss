/* src/pages/SearchPage/SearchPage.scss */
/* Last Updated: 2025-08-03 19:41:31 UTC by jake1318 */

// Variables for consistent colors - matching your brand
$background-dark: #020212; // Slightly more blue-black
$background-surface: #030924;
$neon-blue: #1e90ff; // Primary blue
$sui-blue: #6fbcf0; // Lighter Sui blue
$neon-cyan: #00ccff; // Cyan for bottom container
$neon-green: #00ff80; // Accent green
$neon-magenta: #c45cf2; // Accent purple
$text-primary: #ffffff;
$text-secondary: #b1a5c8;
$text-muted: #3f4c60;
$border-dark: rgba(255, 255, 255, 0.05);

// Base styles for the search page
.search-page {
  width: 100%;
  min-height: 100vh;
  // Deep space background with softer gradients
  background: radial-gradient(
      circle at top left,
      rgba(30, 144, 255, 0.15) 0%,
      rgba(2, 2, 22, 0.8) 40%
    ),
    radial-gradient(
      circle at bottom right,
      rgba(196, 92, 242, 0.15) 0%,
      rgba(2, 2, 22, 0.8) 40%
    ),
    linear-gradient(135deg, rgba(2, 2, 22, 0.95) 0%, rgba(5, 5, 25, 0.95) 100%);
  background-size: 100% 100%, 100% 100%, 100% 100%;
  background-position: center, center, center;
  position: relative;
  overflow: hidden;
  color: $text-primary;
  font-family: "Inter", sans-serif;

  // Scanning horizontal line (neon blue)
  &::after {
    content: "";
    position: absolute;
    width: 100vw;
    height: 2px;
    background: linear-gradient(90deg, transparent, $neon-blue, transparent);
    top: 50%;
    left: 50%;
    transform: translateX(-50%);
    animation: horizonScan 15s linear infinite;
    z-index: 1;
    box-shadow: 0 0 20px rgba($neon-blue, 0.5);
  }

  // Vertical scan line (neon purple)
  .vertical-scan {
    content: "";
    position: absolute;
    width: 2px;
    height: 100vh;
    background: linear-gradient(
      180deg,
      transparent,
      $neon-magenta,
      transparent
    );
    left: 50%;
    top: 50%;
    transform: translateY(-50%);
    animation: verticalScan 15s linear infinite;
    z-index: 1;
    box-shadow: 0 0 20px rgba($neon-magenta, 0.5);
  }

  // Glow effects
  .glow-1 {
    position: absolute;
    width: 300px;
    height: 300px;
    background: rgba($neon-blue, 0.12);
    border-radius: 50%;
    filter: blur(70px);
    top: -100px;
    left: 10%;
    z-index: 1;
    animation: pulsate 8s ease-in-out infinite alternate;
  }

  .glow-2 {
    position: absolute;
    width: 300px;
    height: 300px;
    background: rgba($neon-magenta, 0.12);
    border-radius: 50%;
    filter: blur(80px);
    bottom: -100px;
    right: 10%;
    z-index: 1;
    animation: pulsate 10s ease-in-out infinite alternate-reverse;
  }

  .glow-3 {
    position: absolute;
    width: 250px;
    height: 250px;
    background: rgba($neon-green, 0.12);
    border-radius: 50%;
    filter: blur(70px);
    top: 60%;
    left: 70%;
    z-index: 1;
    animation: pulsate 9s ease-in-out infinite;
  }

  // Animations for effects
  @keyframes horizonScan {
    0% {
      transform: translateX(-150vw);
    }
    100% {
      transform: translateX(150vw);
    }
  }

  @keyframes verticalScan {
    0% {
      transform: translateY(-150vh);
    }
    100% {
      transform: translateY(150vh);
    }
  }

  @keyframes pulsate {
    0% {
      opacity: 0.5;
      transform: scale(0.8);
    }
    100% {
      opacity: 0.8;
      transform: scale(1.2);
    }
  }

  @keyframes pulse {
    0% {
      opacity: 0.6;
      box-shadow: 0 0 10px rgba($neon-blue, 0.3);
    }
    50% {
      opacity: 1;
      box-shadow: 0 0 20px rgba($neon-blue, 0.5);
    }
    100% {
      opacity: 0.6;
      box-shadow: 0 0 10px rgba($neon-blue, 0.3);
    }
  }

  @keyframes loadingDots {
    0%,
    80%,
    100% {
      transform: scale(0);
    }
    40% {
      transform: scale(1);
    }
  }

  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes bounce {
    0%,
    80%,
    100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-6px);
    }
  }

  @keyframes gradientShift {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  @keyframes borderGlow {
    0% {
      box-shadow: 0 0 5px rgba($neon-blue, 0.5), 0 0 10px rgba($neon-blue, 0.3),
        inset 0 0 5px rgba($neon-blue, 0.2);
    }
    50% {
      box-shadow: 0 0 10px rgba($neon-blue, 0.7), 0 0 20px rgba($neon-blue, 0.5),
        inset 0 0 10px rgba($neon-blue, 0.3);
    }
    100% {
      box-shadow: 0 0 5px rgba($neon-blue, 0.5), 0 0 10px rgba($neon-blue, 0.3),
        inset 0 0 5px rgba($neon-blue, 0.2);
    }
  }

  @keyframes borderGlowCyan {
    0% {
      box-shadow: 0 0 5px rgba($neon-cyan, 0.5), 0 0 10px rgba($neon-cyan, 0.3),
        inset 0 0 5px rgba($neon-cyan, 0.2);
    }
    50% {
      box-shadow: 0 0 10px rgba($neon-cyan, 0.7), 0 0 20px rgba($neon-cyan, 0.5),
        inset 0 0 10px rgba($neon-cyan, 0.3);
    }
    100% {
      box-shadow: 0 0 5px rgba($neon-cyan, 0.5), 0 0 10px rgba($neon-cyan, 0.3),
        inset 0 0 5px rgba($neon-cyan, 0.2);
    }
  }

  @keyframes borderGlowGreen {
    0% {
      box-shadow: 0 0 5px rgba($neon-green, 0.5),
        0 0 10px rgba($neon-green, 0.3), inset 0 0 5px rgba($neon-green, 0.2);
    }
    50% {
      box-shadow: 0 0 10px rgba($neon-green, 0.7),
        0 0 20px rgba($neon-green, 0.5), inset 0 0 10px rgba($neon-green, 0.3);
    }
    100% {
      box-shadow: 0 0 5px rgba($neon-green, 0.5),
        0 0 10px rgba($neon-green, 0.3), inset 0 0 5px rgba($neon-green, 0.2);
    }
  }
}

// ChatGPT-Style Layout
.search-page.chatgpt-style {
  display: flex;
  height: 100vh;

  // Sidebar styles
  .sidebar {
    width: 260px;
    background-color: rgba($background-surface, 0.85);
    backdrop-filter: blur(10px);
    display: flex;
    flex-direction: column;
    overflow-y: auto;
    border-right: 1px solid rgba($neon-blue, 0.3);
    position: relative;
    z-index: 10;
    box-shadow: inset -5px 0 15px rgba(0, 0, 0, 0.3);

    // Add a glowing effect to the right border
    &::after {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 1px;
      height: 100%;
      background: $neon-blue;
      box-shadow: 0 0 8px $neon-blue, 0 0 12px rgba($neon-blue, 0.8);
      opacity: 0.6;
    }

    .new-chat-button {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 12px 8px;
      padding: 12px;
      background: rgba($neon-blue, 0.05);
      border: 1px solid rgba($neon-blue, 0.3);
      border-radius: 12px;
      color: $text-primary;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba($neon-blue, 0.1),
        inset 0 0 5px rgba($neon-blue, 0.05);

      &:hover {
        box-shadow: 0 0 15px rgba($neon-blue, 0.3),
          inset 0 0 10px rgba($neon-blue, 0.1);
        border-color: rgba($neon-blue, 0.6);
        transform: translateY(-2px);
        background: rgba($neon-blue, 0.1);
      }

      &:active {
        transform: translateY(0);
      }

      .icon-plus {
        display: inline-block;
        width: 16px;
        height: 16px;
        position: relative;

        &::before,
        &::after {
          content: "";
          position: absolute;
          background-color: $neon-blue;
          box-shadow: 0 0 5px rgba($neon-blue, 0.8);
        }

        &::before {
          width: 16px;
          height: 2px;
          top: 7px;
          left: 0;
        }

        &::after {
          width: 2px;
          height: 16px;
          top: 0;
          left: 7px;
        }
      }
    }

    .history-list {
      flex: 1;
      overflow-y: auto;
      padding: 8px;
      scrollbar-width: thin;
      scrollbar-color: rgba($neon-blue, 0.3) transparent;

      &::-webkit-scrollbar {
        width: 4px;
      }

      &::-webkit-scrollbar-track {
        background: transparent;
      }

      &::-webkit-scrollbar-thumb {
        background-color: rgba($neon-blue, 0.3);
        border-radius: 20px;
      }

      .history-item {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 10px 12px;
        border-radius: 12px;
        cursor: pointer;
        margin-bottom: 6px;
        transition: all 0.3s ease;
        border: 1px solid transparent;
        background: rgba($background-dark, 0.5);

        &:hover {
          background: rgba($background-dark, 0.7);
          border-color: rgba($neon-blue, 0.3);
          box-shadow: 0 0 10px rgba($neon-blue, 0.1);
          transform: translateX(2px);
        }

        &.selected {
          background: linear-gradient(
            145deg,
            rgba($background-dark, 0.8),
            rgba($background-surface, 0.9)
          );
          border-color: rgba($neon-blue, 0.5);
          border-left: 2px solid $neon-blue;
          box-shadow: 0 0 15px rgba($neon-blue, 0.15),
            inset 0 0 10px rgba($neon-blue, 0.05);

          .history-title {
            color: $neon-blue;
            text-shadow: 0 0 5px rgba($neon-blue, 0.3);
          }
        }

        .history-icon {
          font-size: 16px;
          flex-shrink: 0;
          color: $neon-blue;
          text-shadow: 0 0 8px rgba($neon-blue, 0.5);
        }

        .history-content {
          overflow: hidden;
          flex: 1;

          .history-title {
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 3px;
            transition: color 0.2s ease;
            color: $text-primary;
            font-weight: 500;
          }

          .history-date {
            font-size: 11px;
            color: $text-muted;
            transition: color 0.2s ease;
          }
        }
      }
    }

    .sidebar-footer {
      padding: 12px 0;
      display: flex;
      justify-content: center;
      border-top: 1px solid rgba($neon-blue, 0.15);
      background: rgba($background-dark, 0.7);

      .clear-history {
        background: none;
        border: 1px solid rgba($neon-blue, 0.3);
        color: rgba($neon-blue, 0.8);
        border-radius: 8px;
        cursor: pointer;
        font-size: 12px;
        padding: 6px 12px;
        transition: all 0.3s ease;

        &:hover {
          background: rgba($neon-blue, 0.1);
          border-color: rgba($neon-blue, 0.6);
          color: $neon-blue;
          box-shadow: 0 0 10px rgba($neon-blue, 0.2),
            inset 0 0 5px rgba($neon-blue, 0.1);
          transform: translateY(-2px);
        }

        &:active {
          transform: translateY(0);
        }
      }
    }
  }

  // Main content area
  .main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
    position: relative;
    z-index: 5;

    // Chat header with neon border and glow - only title, no search modes
    .chat-header {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px 25px;
      margin: 15px 15px 0;
      border-radius: 16px;
      background: linear-gradient(
        to bottom,
        rgba($background-dark, 0.9),
        rgba($background-surface, 0.9)
      );
      position: relative;
      z-index: 10;
      border: 1px solid rgba($neon-blue, 0.5);
      box-shadow: 0 0 15px rgba($neon-blue, 0.3),
        inset 0 0 20px rgba($background-dark, 0.5);
      animation: borderGlow 3s infinite;

      h1 {
        font-size: 22px;
        font-weight: 700;
        margin: 0;
        background: linear-gradient(90deg, $neon-blue 20%, $sui-blue 80%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 10px rgba($neon-blue, 0.5);
        letter-spacing: 1px;
      }
    }

    // Messages container
    .messages-container {
      flex: 1;
      overflow-y: auto;
      padding: 15px;
      scroll-behavior: smooth;
      scrollbar-width: thin;
      scrollbar-color: rgba($neon-blue, 0.3) transparent;
      display: flex;
      flex-direction: column;

      &::-webkit-scrollbar {
        width: 6px;
      }

      &::-webkit-scrollbar-track {
        background: transparent;
      }

      &::-webkit-scrollbar-thumb {
        background-color: rgba($neon-blue, 0.3);
        border-radius: 20px;
      }

      .welcome-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: 30px;
        text-align: center;
        margin-top: 60px;

        h2 {
          font-size: 38px;
          margin-bottom: 20px;
          font-weight: 700;
          background: linear-gradient(90deg, $neon-blue, $neon-cyan);
          -webkit-background-clip: text;
          background-clip: text;
          -webkit-text-fill-color: transparent;
          text-shadow: 0 0 15px rgba($neon-blue, 0.3);
          letter-spacing: 1.5px;
        }

        p {
          font-size: 18px;
          margin-bottom: 30px;
          color: $text-secondary;
          max-width: 600px;
          line-height: 1.5;
        }

        .wallet-required-message {
          background: rgba($background-surface, 0.5);
          border-radius: 16px;
          padding: 20px;
          max-width: 500px;
          border: 1px solid rgba($neon-green, 0.3);
          box-shadow: 0 0 20px rgba($neon-green, 0.2),
            inset 0 0 10px rgba($neon-green, 0.05);
          animation: borderGlowGreen 3s infinite;

          p {
            margin: 0;
            color: $text-secondary;
          }
        }
      }

      // Loading message
      .loading-message {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px 0;
        margin-bottom: -10px; // Negative margin to move it closer to the input box
        margin-top: auto; // Push to the bottom of the container

        .typing-indicator {
          display: flex;
          align-items: center;
          margin-bottom: 10px;

          span {
            height: 12px;
            width: 12px;
            margin: 0 4px;
            display: inline-block;
            border-radius: 50%;
            background: linear-gradient(90deg, $neon-blue, $neon-cyan);
            box-shadow: 0 0 10px rgba($neon-blue, 0.5);
            animation: bounce 1.5s infinite ease-in-out;

            &:nth-child(1) {
              animation-delay: -0.32s;
            }

            &:nth-child(2) {
              animation-delay: -0.16s;
            }

            &:nth-child(3) {
              animation-delay: 0s;
            }
          }
        }

        .loading-text {
          color: $text-secondary;
          font-size: 1.1rem;
          font-weight: 500;
          background: linear-gradient(90deg, $neon-blue, $neon-cyan);
          -webkit-background-clip: text;
          background-clip: text;
          -webkit-text-fill-color: transparent;
          letter-spacing: 1px;
          text-shadow: 0 0 10px rgba($neon-blue, 0.3);
        }
      }

      // Chat messages
      .chat-messages {
        .message {
          display: flex;
          padding: 20px 25px;
          margin-bottom: 15px;
          border-radius: 16px;

          .message-icon {
            width: 38px;
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            margin-right: 16px;
            font-size: 16px;
            flex-shrink: 0;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
          }

          .message-content {
            flex: 1;
            overflow-wrap: break-word;
            padding-right: 20px;

            p {
              margin: 0;
              line-height: 1.6;
              font-size: 15px;
              color: $text-primary;
            }
          }

          &.user-message {
            background: linear-gradient(
              145deg,
              rgba($background-surface, 0.7),
              rgba($background-dark, 0.8)
            );
            border: 1px solid rgba($neon-magenta, 0.3);
            box-shadow: 0 0 15px rgba($neon-magenta, 0.2),
              inset 0 0 10px rgba($background-dark, 0.5);

            .user-icon {
              background: linear-gradient(
                135deg,
                darken($neon-magenta, 10%),
                $neon-magenta
              );
              color: $text-primary;
              box-shadow: 0 0 15px rgba($neon-magenta, 0.3);
            }
          }

          &.ai-message {
            background: linear-gradient(
              145deg,
              rgba($background-dark, 0.8),
              rgba($background-surface, 0.7)
            );
            border: 1px solid rgba($neon-blue, 0.3);
            box-shadow: 0 0 15px rgba($neon-blue, 0.2),
              inset 0 0 10px rgba($background-dark, 0.5);

            .ai-icon {
              background: linear-gradient(
                135deg,
                darken($neon-blue, 10%),
                $neon-blue
              );
              color: $text-primary;
              box-shadow: 0 0 15px rgba($neon-blue, 0.3);
            }

            &.deep-research .ai-icon {
              background: linear-gradient(135deg, #7a5cff, $neon-magenta);
              box-shadow: 0 0 15px rgba($neon-magenta, 0.3);
            }

            &.ai-only .ai-icon {
              background: linear-gradient(135deg, #0ea5e9, #38bdf8);
              box-shadow: 0 0 15px rgba(56, 189, 248, 0.3);
            }

            .ai-answer {
              line-height: 1.6;
              white-space: pre-wrap;
              font-size: 16px;
              overflow-x: auto;
              color: $text-primary;

              h1,
              h2,
              h3,
              h4 {
                margin-top: 24px;
                margin-bottom: 16px;
                color: $text-primary;
                font-weight: 600;

                &:first-child {
                  margin-top: 0;
                }
              }

              h1 {
                font-size: 24px;
                color: $neon-blue;
                text-shadow: 0 0 10px rgba($neon-blue, 0.2);
                border-bottom: 1px solid rgba($neon-blue, 0.2);
                padding-bottom: 8px;
              }

              h2 {
                font-size: 20px;
                color: #38bdf8;
              }

              h3 {
                font-size: 18px;
                color: $neon-magenta;
              }

              ul,
              ol {
                margin-top: 10px;
                margin-bottom: 16px;
                padding-left: 24px;

                li {
                  margin-bottom: 8px;
                }
              }

              pre {
                background-color: rgba($background-dark, 0.8);
                padding: 14px;
                border-radius: 8px;
                overflow-x: auto;
                margin: 16px 0;
                border: 1px solid rgba($neon-blue, 0.2);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2),
                  inset 0 0 20px rgba(0, 0, 0, 0.2);
              }

              code {
                font-family: "Menlo", "Monaco", "Courier New", monospace;
                font-size: 14px;
                background-color: rgba($background-dark, 0.6);
                padding: 3px 6px;
                border-radius: 4px;
                border: 1px solid rgba($neon-blue, 0.1);
                color: #38bdf8;
              }

              a {
                color: $neon-blue;
                text-decoration: none;
                border-bottom: 1px dotted rgba($neon-blue, 0.5);
                transition: all 0.2s ease;

                &:hover {
                  color: #38bdf8;
                  border-bottom: 1px solid #38bdf8;
                  text-shadow: 0 0 8px rgba($neon-blue, 0.3);
                }
              }
            }

            .show-more {
              display: inline-block;
              background: rgba($neon-blue, 0.05);
              border: 1px solid rgba($neon-blue, 0.3);
              color: $neon-blue;
              padding: 0.5rem 1.25rem;
              border-radius: 8px;
              font-size: 0.9rem;
              cursor: pointer;
              transition: all 0.3s ease;
              margin-top: 12px;
              font-weight: 500;

              &:hover {
                background: rgba($neon-blue, 0.1);
                transform: translateY(-2px);
                box-shadow: 0 0 15px rgba($neon-blue, 0.2),
                  inset 0 0 5px rgba($neon-blue, 0.1);
              }

              &:active {
                transform: translateY(0);
              }
            }
          }
        }
      }
    }

    // Additional content (web/video results)
    .additional-content {
      margin-top: 20px;
      border-top: 1px solid rgba($neon-blue, 0.15);
      padding-top: 20px;

      .content-tabs {
        display: flex;
        gap: 2px;
        margin-bottom: 20px;
        background: rgba($background-dark, 0.5);
        border-radius: 12px;
        overflow: hidden;
        padding: 4px;
        border: 1px solid rgba($neon-blue, 0.2);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);

        .tab {
          background: transparent;
          border: none;
          color: $text-secondary;
          cursor: pointer;
          font-size: 14px;
          padding: 10px 16px;
          position: relative;
          flex: 1;
          border-radius: 8px;
          transition: all 0.3s ease;
          font-weight: 500;
          letter-spacing: 0.5px;

          &.active {
            color: $text-primary;
            background: linear-gradient(
              135deg,
              rgba($background-surface, 0.7),
              rgba($background-dark, 0.8)
            );
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3),
              inset 0 0 0 1px rgba($neon-blue, 0.3);

            &::after {
              content: "";
              position: absolute;
              bottom: 0;
              left: 10%;
              right: 10%;
              height: 2px;
              background: linear-gradient(90deg, $neon-blue, $neon-cyan);
              box-shadow: 0 0 8px rgba($neon-blue, 0.5);
            }
          }

          &:hover:not(.active) {
            color: $text-primary;
            background: rgba($background-surface, 0.2);
          }
        }
      }

      .tab-content {
        .web-results {
          display: flex;
          flex-direction: column;
          gap: 12px;

          .web-result-item {
            background: rgba($background-dark, 0.5);
            border: 1px solid rgba($neon-blue, 0.15);
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);

            &:hover {
              transform: translateY(-3px);
              border-color: rgba($neon-blue, 0.3);
              box-shadow: 0 0 15px rgba($neon-blue, 0.2),
                inset 0 0 10px rgba($neon-blue, 0.02);
              background: rgba($background-dark, 0.7);
            }

            a {
              color: $neon-blue;
              text-decoration: none;
              display: block;
              margin-bottom: 8px;
              transition: all 0.2s ease;

              h4 {
                margin: 0 0 5px;
                font-size: 17px;
                font-weight: 500;
                transition: all 0.2s ease;
              }

              .result-url {
                font-size: 12px;
                color: $text-muted;
                display: block;
                transition: all 0.2s ease;
              }

              &:hover {
                h4 {
                  color: #38bdf8;
                  text-shadow: 0 0 8px rgba($neon-blue, 0.3);
                }

                .result-url {
                  color: $text-secondary;
                }
              }
            }

            p {
              margin: 10px 0 0;
              font-size: 14px;
              color: $text-secondary;
              line-height: 1.6;
            }
          }
        }

        .video-results {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
          gap: 20px;

          .video-result-item {
            background: rgba($background-dark, 0.5);
            border: 1px solid rgba($neon-blue, 0.15);
            border-radius: 12px;
            padding: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);

            &:hover {
              transform: translateY(-5px);
              border-color: rgba($neon-blue, 0.3);
              box-shadow: 0 0 15px rgba($neon-blue, 0.2),
                inset 0 0 10px rgba($neon-blue, 0.02);
              background: rgba($background-dark, 0.7);
            }

            a {
              color: $text-primary;
              text-decoration: none;
              display: block;

              .video-thumbnail {
                position: relative;
                aspect-ratio: 16/9;
                overflow: hidden;
                border-radius: 10px;
                margin-bottom: 12px;
                border: 1px solid rgba($neon-blue, 0.2);
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);

                img {
                  width: 100%;
                  height: 100%;
                  object-fit: cover;
                  transition: transform 0.3s ease;
                }

                .play-overlay {
                  position: absolute;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  width: 50px;
                  height: 50px;
                  background: linear-gradient(
                    135deg,
                    rgba($neon-blue, 0.7),
                    rgba($neon-cyan, 0.7)
                  );
                  border-radius: 50%;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  opacity: 0;
                  transition: all 0.3s ease;
                  box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
                  color: $text-primary;
                  font-size: 22px;
                }

                &:hover {
                  img {
                    transform: scale(1.05);
                    filter: brightness(0.7);
                  }

                  .play-overlay {
                    opacity: 1;
                    box-shadow: 0 0 30px rgba($neon-blue, 0.5);
                  }
                }
              }

              h4 {
                margin: 0 0 5px;
                font-size: 15px;
                font-weight: 500;
                color: $text-primary;
                display: -webkit-box;
                -webkit-line-clamp: 2;
                -webkit-box-orient: vertical;
                overflow: hidden;
                line-height: 1.4;
                transition: all 0.2s ease;
              }

              .video-channel {
                font-size: 12px;
                color: $text-muted;
                transition: all 0.2s ease;
              }

              &:hover {
                h4 {
                  color: $neon-blue;
                  text-shadow: 0 0 8px rgba($neon-blue, 0.3);
                }

                .video-channel {
                  color: $text-secondary;
                }
              }
            }
          }
        }

        // Load more button container
        .load-more-container {
          display: flex;
          justify-content: center;
          margin-top: 25px;

          .load-more-button {
            padding: 0.75rem 2rem;
            background: rgba($background-dark, 0.5);
            border: 1px solid rgba($neon-blue, 0.3);
            border-radius: 12px;
            color: $text-primary;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            letter-spacing: 0.5px;

            &:hover {
              background: rgba($background-dark, 0.7);
              transform: translateY(-3px);
              box-shadow: 0 0 15px rgba($neon-blue, 0.2),
                inset 0 0 5px rgba($neon-blue, 0.1);
              border-color: rgba($neon-blue, 0.5);
            }

            &:active {
              transform: translateY(0);
            }

            &:disabled {
              opacity: 0.5;
              cursor: not-allowed;
              transform: none;
              box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
              color: $text-muted;
            }

            // Loading animation dots
            .loading-dot {
              display: inline-block;
              width: 6px;
              height: 6px;
              border-radius: 50%;
              background: linear-gradient(90deg, $neon-blue, $neon-cyan);
              margin: 0 3px;
              animation: loadingDots 1.4s infinite ease-in-out both;
              box-shadow: 0 0 8px rgba($neon-blue, 0.5);

              &:nth-child(1) {
                animation-delay: -0.32s;
              }

              &:nth-child(2) {
                animation-delay: -0.16s;
              }
            }
          }
        }
      }
    }

    // Chat input area - with neon cyan/green border and glow
    .chat-input-container {
      padding: 20px;
      margin: 0 15px 15px;
      border-radius: 16px;
      background: linear-gradient(
        to bottom,
        rgba($background-surface, 0.9),
        rgba($background-dark, 0.9)
      );
      position: relative;
      z-index: 10;
      border: 1px solid rgba($neon-cyan, 0.5);
      box-shadow: 0 0 15px rgba($neon-cyan, 0.3),
        inset 0 0 20px rgba($background-dark, 0.5);
      animation: borderGlowCyan 3s infinite;

      .chat-input-wrapper {
        position: relative;
        max-width: 800px;
        margin: 0 auto;

        .chat-input {
          width: 100%;
          padding: 15px 50px 15px 20px;
          background: rgba($background-dark, 0.5);
          border: 1px solid rgba($neon-cyan, 0.4);
          border-radius: 12px;
          color: $text-primary;
          font-size: 16px;
          outline: none;
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3),
            inset 0 2px 5px rgba($neon-cyan, 0.05);
          transition: all 0.3s ease;

          &:focus {
            border-color: rgba($neon-cyan, 0.7);
            box-shadow: 0 0 15px rgba($neon-cyan, 0.3),
              inset 0 2px 10px rgba($neon-cyan, 0.1);
          }

          &::placeholder {
            color: rgba($text-secondary, 0.6);
          }

          &:disabled {
            background-color: rgba($background-surface, 0.3);
            color: $text-muted;
            cursor: not-allowed;
            border-color: rgba(80, 80, 120, 0.2);
          }
        }

        .send-button {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          display: flex;
          align-items: center;
          justify-content: center;
          color: $neon-cyan;
          width: 36px;
          height: 36px;
          border-radius: 50%;
          cursor: pointer;
          transition: all 0.3s ease;

          &:hover:not(:disabled) {
            background-color: rgba($neon-cyan, 0.1);
            color: lighten($neon-cyan, 10%);
            box-shadow: 0 0 15px rgba($neon-cyan, 0.3);
            transform: translateY(-50%) scale(1.1);
          }

          &:disabled {
            color: $text-muted;
            cursor: not-allowed;
          }

          svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
            filter: drop-shadow(0 0 2px rgba($neon-cyan, 0.5));
          }
        }
      }

      // Input footer with search modes and disclaimer
      .input-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 12px;

        // Left side - search modes
        .search-modes {
          display: flex;
          gap: 15px;

          .mode-toggle {
            display: flex;
            align-items: center;

            .toggle-switch {
              position: relative;
              display: inline-block;
              width: 46px;
              height: 22px;
              margin-right: 8px;
            }

            .toggle-switch input {
              opacity: 0;
              width: 0;
              height: 0;
            }

            .toggle-slider {
              position: absolute;
              cursor: pointer;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background-color: rgba($background-dark, 0.7);
              transition: 0.4s;
              border-radius: 20px;
              border: 1px solid rgba($neon-cyan, 0.3);
            }

            .toggle-slider:before {
              position: absolute;
              content: "";
              height: 16px;
              width: 16px;
              left: 3px;
              bottom: 2px;
              background-color: $text-primary;
              transition: 0.4s;
              border-radius: 50%;
              box-shadow: 0 0 5px rgba($neon-cyan, 0.5);
            }

            input:checked + .toggle-slider:before {
              transform: translateX(22px);
            }

            .toggle-label {
              color: $text-secondary;
              font-size: 14px;
              margin-left: 8px;
              user-select: none;
              letter-spacing: 0.5px;
              font-weight: 500;
            }
          }
        }

        // Right side - disclaimer
        .disclaimer {
          color: $text-muted;
          font-size: 12px;
          font-style: italic;
          text-align: right;
        }
      }
    }
  }

  // Responsive design
  @media (max-width: 768px) {
    flex-direction: column;

    .sidebar {
      width: 100%;
      max-height: 180px;
      border-right: none;
      border-bottom: 1px solid rgba($neon-blue, 0.2);

      .history-list {
        display: flex;
        overflow-x: auto;
        padding: 10px;

        .history-item {
          min-width: 160px;
          flex-direction: column;
          align-items: flex-start;

          .history-icon {
            margin-right: 0;
            margin-bottom: 5px;
          }
        }
      }

      .sidebar-footer {
        display: none;
      }
    }

    .main-content {
      .chat-header {
        padding: 12px 15px;
        margin: 10px 10px 0;

        h1 {
          font-size: 18px;
        }
      }

      .chat-input-container {
        padding: 15px;
        margin: 0 10px 10px;

        .input-footer {
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;

          .search-modes {
            width: 100%;
            justify-content: space-between;
          }

          .disclaimer {
            width: 100%;
            text-align: center;
            font-size: 10px;
          }
        }
      }

      .messages-container {
        .message {
          padding: 15px;

          .message-icon {
            margin-right: 12px;
            width: 32px;
            height: 32px;
            font-size: 14px;
          }

          .message-content {
            padding-right: 10px;

            .ai-answer {
              font-size: 15px;

              h1 {
                font-size: 20px;
              }

              h2 {
                font-size: 18px;
              }

              h3 {
                font-size: 16px;
              }
            }
          }
        }

        .welcome-container {
          padding: 20px 15px;

          h2 {
            font-size: 28px;
          }

          p {
            font-size: 16px;
          }
        }
      }

      .additional-content {
        .tab-content {
          .video-results {
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
          }
        }
      }
    }
  }

  // Small mobile devices
  @media (max-width: 480px) {
    .sidebar {
      max-height: 160px;

      .new-chat-button {
        padding: 10px;
        font-size: 13px;
      }

      .history-list {
        .history-item {
          min-width: 140px;
          padding: 8px;

          .history-content {
            .history-title {
              font-size: 13px;
            }
          }
        }
      }
    }

    .main-content {
      .chat-header {
        padding: 10px;
        margin: 8px 8px 0;
      }

      .messages-container {
        padding: 8px;

        .message {
          padding: 12px 10px;
          margin-bottom: 10px;

          .message-icon {
            width: 28px;
            height: 28px;
            font-size: 12px;
            margin-right: 8px;
            border-radius: 6px;
          }

          .message-content {
            .ai-answer {
              font-size: 14px;
            }
          }
        }
      }

      .chat-input-container {
        padding: 12px;
        margin: 0 8px 8px;

        .chat-input-wrapper {
          .chat-input {
            padding: 12px 40px 12px 15px;
            font-size: 14px;
          }
        }

        .input-footer {
          .search-modes {
            flex-direction: column;
            gap: 5px;

            .toggle-switch {
              width: 36px;
              height: 18px;
            }

            .toggle-slider:before {
              height: 12px;
              width: 12px;
            }

            input:checked + .toggle-slider:before {
              transform: translateX(16px);
            }

            .toggle-label {
              font-size: 12px;
            }
          }
        }
      }

      .additional-content {
        .tab-content {
          .video-results {
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            gap: 12px;

            .video-result-item {
              padding: 8px;

              a h4 {
                font-size: 13px;
              }
            }
          }

          .web-results {
            .web-result-item {
              padding: 12px;

              a h4 {
                font-size: 15px;
              }

              p {
                font-size: 13px;
              }
            }
          }

          .load-more-container {
            .load-more-button {
              padding: 8px 20px;
              font-size: 13px;
            }
          }
        }
      }
    }
  }
}

/* Wallet Required Message */
.wallet-required-message {
  text-align: center;
  margin-top: 40px;
  padding: 20px;
  background: rgba($background-surface, 0.5);
  border-radius: 16px;
  border: 1px solid rgba($neon-green, 0.3);
  box-shadow: 0 0 20px rgba($neon-green, 0.2),
    inset 0 0 10px rgba($neon-green, 0.05);

  p {
    color: $text-secondary;
    font-size: 16px;
  }
}

/* Loading spinner */
.loading-spinner {
  width: 50px;
  height: 50px;
  border: 3px solid rgba($neon-blue, 0.1);
  border-radius: 50%;
  border-top-color: $neon-blue;
  border-right-color: $neon-cyan;
  animation: spin 1s linear infinite;
  margin-bottom: 1.5rem;
  box-shadow: 0 0 20px rgba($neon-blue, 0.2), 0 0 20px rgba($neon-cyan, 0.2);
}

/* Update input-footer to accommodate the new structure */
.chat-input-container .input-footer {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 12px;

  .search-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
  }

  .disclaimer {
    width: 100%;
    text-align: center;
    color: $text-muted;
    font-size: 12px;
    font-style: italic;
  }
}

/* Responsive styling for mobile */
@media (max-width: 768px) {
  .chat-input-container .input-footer {
    .search-controls {
      flex-direction: column;
      align-items: flex-start;

      .search-modes {
        width: 100%;
        justify-content: space-between;
      }
    }
  }
}

/* === Toggle background colours when ON ============================== */
.mode-toggle:nth-child(1) input:checked + .toggle-slider {
  /* Default */
  background: linear-gradient(
    135deg,
    $neon-green 0%,
    lighten($neon-green, 15%) 100%
  );
  border-color: $neon-green;
  box-shadow: 0 0 10px rgba($neon-green, 0.5),
    inset 0 0 5px rgba($neon-green, 0.3);
}

.mode-toggle:nth-child(2) input:checked + .toggle-slider {
  /* AI Only */
  background: linear-gradient(135deg, #0ea5e9 0%, $neon-blue 100%);
  border-color: $neon-blue;
  box-shadow: 0 0 10px rgba($neon-blue, 0.5),
    inset 0 0 5px rgba($neon-blue, 0.3);
}

.mode-toggle:nth-child(3) input:checked + .toggle-slider {
  /* Deep Research */
  background: linear-gradient(135deg, #7a5cff 0%, $neon-magenta 100%);
  border-color: $neon-magenta;
  box-shadow: 0 0 10px rgba($neon-magenta, 0.5),
    inset 0 0 5px rgba($neon-magenta, 0.3);
}

/* Removing obsolete selectors */
/*
.search-types { ... }
.search-hint { ... }
.search-type-button { ... }
*/
